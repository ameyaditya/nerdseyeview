<!DOCTYPE html>
<html class="no-js" lang="en">
<head>

    <!--- basic page needs
    ================================================== -->
    <meta charset="utf-8">
    <title>DIY: How to turn a Light Bulb on using Raspberry Pi and Google Assistant</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- mobile specific metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/vendor.css">
    <link rel="stylesheet" href="css/main.css">

    <!-- script
    ================================================== -->
    <script src="js/modernizr.js"></script>
    <script src="js/pace.min.js"></script>

    <!-- favicons
    ================================================== -->
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

</head>

<body id="top">

    <!-- pageheader
    ================================================== -->
    <div class="s-pageheader">

        <header class="header">
            <div class="header__content row">

                <div class="header__logo">
                    <a class="logo" href="index.html">
                        <img src="images/logo1.png" alt="Homepage">
                    </a>
                </div> <!-- end header__logo -->

                <ul class="header__social">
                    <li>
                        <a href="https://www.facebook.com/ameyaditya.achar" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                    </li>
                    <li>
                        <a href="https://twitter.com/ameyaditya" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                    </li>
                    <li>
                        <a href="https://www.instagram.com/ameyaditya" target="_blank"><i class="fa fa-instagram" aria-hidden="true"></i></a>
                    </li>
                    <li>
                        <a href="https://github.com/ameyaditya" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a>
                    </li>
                    <!--
                    <li>
                        <a href="#0"><i class="fa fa-pinterest" aria-hidden="true"></i></a>
                    </li>-->
                </ul> <!-- end header__social -->

                


                <a class="header__toggle-menu" href="#0" title="Menu"><span>Menu</span></a>

                <nav class="header__nav-wrap">

                    <h2 class="header__nav-heading h6">Nerd's Eye View</h2>

                    <ul class="header__nav">
                        <li><a href="index.html" title="">Home</a></li>
                        <li class="has-children current">
                            <a href="#0" title="">Categories</a>
                            <ul class="sub-menu">
                            <li><a href="projects.html">Projects</a></li>
                            <li><a href="photo.html">Photography</a></li>
                            <li><a href="travel.html">Travel</a></li>
                            </ul>
                        </li>
                        <li class="has-children ">
                            <a href="#0" title="">Blog</a>
                            <ul class="sub-menu">
                            <li><a href="techposts.html">Tech Post</a></li>
                            </ul>
                        </li>
                        <li><a href="about.html" title="">About</a></li>
                        <li><a href="contact.html" title="">Contact</a></li>
                    </ul> <!-- end header__nav -->

                    <a href="#0" title="Close Menu" class="header__overlay-close close-mobile-menu">Close</a>

                </nav> <!-- end header__nav-wrap -->

            </div> <!-- header-content -->
        </header> <!-- header -->

    </div> <!-- end s-pageheader -->


    <!-- s-content
    ================================================== -->
    <section class="s-content s-content--narrow s-content--no-padding-bottom">

        <article class="row format-gallery">

            <div class="s-content__header col-full">
                <h1 class="s-content__header-title">
                    DIY: How to turn a Light Bulb on using Raspberry Pi and Google Assistant
                </h1>
                <ul class="s-content__header-meta">
                    <li class="date">January 24, 2019</li>
                    <li class="cat">
                        In
                        <a href="projects.html">Projects</a>
                    </li>
                </ul>
            </div> <!-- end s-content__header -->
            <div class="col-full s-content__main">

                <p class="">This is a step by step guide on How to use Google Assistant to turn a Light Bulb. I will go with the assumptions that you know how to setup the raspberry pi with NOOBS operating system, and run the update and upgrade to finalize the setup. I hope you have some basic knowledge of python or any programming language to understand the code part this project. We are working with high voltages and proper care must be taken while making the connections and working on the project. </p>
                <p>Items Required<br>
                    <ul>
                        <li>Raspberry Pi 3 Model B</li>
                        <li>Relay</li>
                        <li>Jumper Wires (female to female)</li>
                        <li>A light bulb connected to two wires and a plug</li>
                    </ul>
                </p>
                <p>
                <img src="pics/connections.jpg" 
                     srcset="pics/connections.jpg 2000w, pics/connections.jpg 1000w, pics/connections.jpg 500w" 
                     sizes="(max-width: 2000px) 100vw, 2000px" alt="" style="margin-bottom: 10px;">
                <caption><a href="https://circuitdigest.com/fullimage?i=circuitdiagram_mic/Circuit-diagram-for-Voice-controlled-Home-automation-using-Amazon-Alexa-on-Raspberry-Pi.png">Image Source</a></caption>
                </p>
               <p>Making the circuit connections as shown in the diagram<br>
                    <ul>
                        <li>Connect Pin 2 on the raspberry pi to the +Vcc on the relay, this is used to drive the relay.</li>
                        <li>Connect any ground pin on the raspberry pi to the ground pin on the relay. I have chosen pin 6</li>
                        <li>Then connect the GPIO pin 12 to input of the relay.</li>
                        <li>Connect two insulated copper wires, to the center and either of the inputs in the relay and screw them tightly.</li>
                        <li>Connect one end to the bulb and the other to plug. Make sure you make the connections on the neutral line.</li>
                    </ul>
               </p>

                <p>
                    Make sure all the connections are made properly and power your Raspberry Pi on and run the following script to check if everything works fine.
                    <pre><code>
import RPi.GPIO as GPIO
import time

GPIO.setmode(GPIO.BCM)
GPIO.setup(18,GPIO.OUT)

def switch_on():
    GPIO.output(18, False)

def switch_off():
    GPIO.output(18, True)

print("Turning bulb on")
switch_on()
time.sleep(3)
print("Turning bulb off")
switch_off()
</code></pre>
                </p>
<p>Keep in mind the True and False inputs in switch_on and switch_off functions may have to interchanged based on the wire connections made on the relay, run the script, check and set it accordingly.</p>
<p>Now you are able to turn the light bulb on and off using the python script. To be able to control it using Google assistant, we will use Adafruit IO and IFTTT and configure it to work.</p>

<p>
    <ol>
        <li>
            Setting up Adafruit Account<br>
            <ul>
                <li><a href="https://io.adafruit.com/">https://io.adafruit.com</a> visit the following link and create an account and login.</li>
                <li>Create a new Dashboard by clicking on Actions->Create a new Dashboard.</li>
                <li>Enter your newly created Dashboard and click on the Create a new block icon (plus icon).</li>
                <li>Select the Toggle icon.</li>
                <li>Create a new feed called ‘switch-control’ and check the box next to it and click next step.</li>
                <li>Give the block a title (switch) and click create block.</li>
                <li>On the top right you will find a key icon that says ‘your secret AIO key’, click on it and copy the username and active key, you will need it later to replace in the python script.</li>
            </ul>
        </li>
        <li>
            Setting up IFTTT<br>
            <ul>
                <li><a herf="https://ifttt.com">https://ifttt.com</a> visit the following website and create an account and login</li>
                <li>On login, click on My Applets->New Applet.</li>
                <li>Click on the plus icon next to 'this' and search for Google Assistant and select it.</li>
                <li>Connect the assistant with your Gmail account. (This account should also be registered on the phone that is used to control the switch).</li>
                <li>Select ‘say a simple phrase’ and fill in the phrases you would want to tell the assistant to turn the light on (‘Turn light on’, ‘light on’). You can add multiple phrases. Add a response, that the assistant will give once it has executed the task at hand (‘light turned on’) and click on create trigger.</li>
                <li>Now click on the plus icon next to ‘that’ and search for Adafruit and select it.</li>
                <li>Connect it you the Adafruit account you had created earlier.</li>
                <li>Select ‘send data to Adafruit IO’ and select ‘switch-control’ under the Feed name and ‘ON’ under Data to save and click create.</li>
                <li>Repeat the steps and create an applet to turn light off. In step 4 change phrase to (‘Turn light off’, ‘lights off’) and response to (‘light turned off’). And in step 7, change Data to save to ‘OFF’ and create.</li>
            </ul>
        </li>
    </ol>
</p>
<p>Open terminal on your raspberry pi and run the following command<br><code>pip3 install adafruit-io</code></p>
<p>
    Save and run the following script on your raspberry pi. Make sure you replace the username and AIO key in the below script.
    <pre>
        <code>
import RPi.GPIO as GPIO
from Adafruit_IO import Client
import time

ADAFRUIT_IO_USERNAME = "your username"
ADAFRUIT_IO_KEY = "your secret AIO key"

GPIO.setmode(GPIO.BCM)
GPIO.setup(18,GPIO.OUT)

def switch_on():
    GPIO.output(18, False)
    print("turning light on")

def switch_off():
    GPIO.output(18, True)
    print("turning light off")
    
aio = Client(ADAFRUIT_IO_USERNAME, ADAFRUIT_IO_KEY)

while True:
    data = aio.receive('switch-control')
    if data.value == 'ON':
        switch_on()
    elif data.value == 'OFF':
        switch_off()
    time.sleep(1)
        </code>
    </pre>
</p>
<p>Now run Google assistant on your phone and give it the command to turn lights on or off. The script is running in an infinite loop, you must keep the script running if you want to control the bulb using Google assistant, once done, press ctrl+C to terminate the script.</p>
<p>Screenshots to help you</p>
<div class="s-content__slider slider">
    <div class="slider__slides">
        <div class="slider__slide">
            <img src="pics/diy/pic1.png" 
                 srcset="pics/diy/pic1.png 2000w, 
                         pics/diy/pic1.png 1000w, 
                         pics/diy/pic1.png 500w" 
                 sizes="(max-width: 2000px) 100vw, 2000px" alt="" >
        </div>
        <div class="slider__slide">
            <img src="pics/diy/pic2.png" 
                 srcset="pics/diy/pic2.png 2000w, 
                         pics/diy/pic2.png 1000w, 
                         pics/diy/pic2.png 500w" 
                 sizes="(max-width: 2000px) 100vw, 2000px" alt="" >
        </div>
        <div class="slider__slide">
            <img src="pics/diy/pic3.png" 
                 srcset="pics/diy/pic3.png 2000w, 
                         pics/diy/pic3.png 1000w, 
                         pics/diy/pic3.png 500w" 
                 sizes="(max-width: 2000px) 100vw, 2000px" alt="" >
        </div>
        <div class="slider__slide">
            <img src="pics/diy/pic4.png" 
                 srcset="pics/diy/pic4.png 2000w, 
                         pics/diy/pic4.png 1000w, 
                         pics/diy/pic4.png 500w" 
                 sizes="(max-width: 2000px) 100vw, 2000px" alt="" >
        </div>
        <div class="slider__slide">
            <img src="pics/diy/pic4.png" 
                 srcset="pics/diy/pic4.png 2000w, 
                         pics/diy/pic4.png 1000w, 
                         pics/diy/pic4.png 500w" 
                 sizes="(max-width: 2000px) 100vw, 2000px" alt="" >
        </div>
        <div class="slider__slide">
            <img src="pics/diy/pic5.png" 
                 srcset="pics/diy/pic5.png 2000w, 
                         pics/diy/pic5.png 1000w, 
                         pics/diy/pic5.png 500w" 
                 sizes="(max-width: 2000px) 100vw, 2000px" alt="" >
        </div>

    </div>
</div>

                <p class="s-content__tags">
                    <span>Post Tags</span>

                    <span class="s-content__tag-list">
                        <a href="#0">Home Automation</a>
                        <a href="#0">Raspberry Pi</a>
                        <a href="#0">Google Assistant</a>
                        <a href="#0">DIY</a>
                        <!--<a href="#0">turpis</a>-->
                    </span>
                </p> <!-- end s-content__tags -->

                <div class="s-content__author">
                    <img src="images/avatars/user-03.jpg" alt="">

                    <div class="s-content__author-about">
                        <h4 class="s-content__author-name">
                            <a href="#0">Amey Aditya Achar J</a>
                        </h4>
                    
                        <p>My name is Amey Aditya Achar J and I am a computer Science Enthusiast. I am 19 years old residing in Bengaluru and I look forward to becoming a Data Scientist. I am pursuing my Bachelors of Engineering at RNS Institute of Technology, and I have worked on many projects involving web designing, IoT, Home Automation and Machine Learning. I consider myself to be a programmer and a designer.
                        </p>

                        <ul class="s-content__author-social">
                           <li><a href="https://www.facebook.com/ameyaditya.achar" target="_blank">Facebook</a></li>
                           <li><a href="https://twitter.com/ameyaditya" target="_blank">Twitter</a></li>
                           <!--<li><a href="#0">GooglePlus</a></li>-->
                           <li><a href="https://www.instagram.com/ameyaditya" target="_blank">Instagram</a></li>
                        </ul>
                    </div>
                </div>

                <div class="s-content__pagenav">
                    <div class="s-content__nav">
                        <div class="s-content__prev">
                            <a href="bostonhousing.html" rel="prev">
                                <span>Previous Post</span>
                                Data Analysis: Boston Housing Prices
                            </a>
                        </div>
                        <div class="s-content__next">
                            <a href="homeAutomation.html" rel="next">
                                <span>Next Post</span>
                                Home Automation with Raspberry Pi and Google Assistant
                            </a>
                        </div>
                    </div>
                </div> <!-- end s-content__pagenav -->

            </div> <!-- end s-content__main -->

        </article>
    </section> <!-- s-content -->


    <!-- s-extra
    ================================================== -->
    <section class="s-extra">

        <div class="row top">

            <div class="col-eight md-six tab-full popular">
                <h3>Popular Posts</h3>

                <div class="block-1-2 block-m-full popular__posts">
                    <article class="col-block popular__post">
                        <a href="sudokusolver.html" class="popular__thumb">
                            <img src="pics/homepage/sudoku1.png" alt="sudoku solver">
                        </a>
                        <h5><a href="sudokusolver.html">Sudoku Solver.</a></h5>
                        <section class="popular__meta">
                                <span class="popular__author"><span>By</span> <a href="about.html"> Amey Aditya Achar J</a></span>
                            <span class="popular__date"><span>on</span> <time datetime="2018-04-08">Apr 8, 2018</time></span>
                        </section>
                    </article>
                    <article class="col-block popular__post">
                        <a href="homeAutomation.html" class="popular__thumb">
                            <img src="pics/bulb.jpg" alt="">
                        </a>
                        <h5><a href="homeAutomation.html">Home Automation with Raspberry Pi and Google Assistant.</a></h5>
                        <section class="popular__meta">
                            <span class="popular__author"><span>By</span> <a href="about.html"> Amey Aditya Achar J</a></span>
                            <span class="popular__date"><span>on</span> <time datetime="2018-12-03">Dec 3, 2018</time></span>
                        </section>
                    </article>
                    <article class="col-block popular__post">
                        <a href="paperpresentation.html" class="popular__thumb">
                            <img src="pics/mainpage/1.jpg" alt="">
                        </a>
                        <h5><a href="paperpresentation.html">Artificial Intelligence in Biometrics and Face Detection.</a></h5>
                        <section class="popular__meta">
                                <span class="popular__author"><span>By</span> <a href="about.html"> Amey Aditya Achar J</a></span>
                            <span class="popular__date"><span>on</span> <time datetime="2018-08-30">Aug 30, 2018</time></span>
                        </section>
                    </article>
                    <article class="col-block popular__post">
                        <a href="kudremukha.html" class="popular__thumb">
                            <img src="pics/kudremuk.JPG" alt="">
                        </a>
                        <h5><a href="kudremukha.html">Trek to Kudremukha.</a></h5>
                        <section class="popular__meta">
                            <span class="popular__author"><span>By</span> <a href="about.html"> Amey Aditya Achar J</a></span>
                            <span class="popular__date"><span>on</span> <time datetime="2018-08-01">Aug 01, 2018</time></span>
                        </section>
                    </article>
                    <article class="col-block popular__post">
                        <a href="smartMirror.html" class="popular__thumb">
                            <img src="pics/mirror.JPG" alt="">
                        </a>
                        <h5><a href="smartMirror.html">Smart Mirror.</a></h5>
                        <section class="popular__meta">
                            <span class="popular__author"><span>By</span> <a href="about.html"> Amey Aditya Achar J</a></span>
                            <span class="popular__date"><span>on</span> <time datetime="2017-07-01">Jul 01, 2018</time></span>
                        </section>
                    </article>
                    <article class="col-block popular__post">
                        <a href="#0" class="popular__thumb">
                            <img src="pics/ityukta/ityukta 2018 View-01.jpg" alt="">
                        </a>
                        <h5><a href="ityukta.html">Ityutka Newsletter</a></h5>
                        <section class="popular__meta">
                            <span class="popular__author"><span>By</span> <a href="#0"> Amey Aditya Achar J</a></span>
                            <span class="popular__date"><span>on</span> <time datetime="2017-05-05">May 05, 2018</time></span>
                        </section>
                    </article>
                </div> <!-- end popular_posts -->
            </div> <!-- end popular -->
            
            <div class="col-four md-six tab-full about">
                <h3><a href="about.html">About Me</a></h3>

                <p>
                My name is Amey Aditya Achar J and I am a computer Science Enthusiast. I am 19 years old residing in Bengaluru and I look forward to becoming a Data Scientist. I am pursuing my Bachelors of Engineering at RNS Institute of Technology, and I have worked on many projects involving web designing, IoT, Home Automation and Machine Learning. I consider myself to be a programmer and a designer..
                </p>

                <ul class="about__social">
                    <li>
                        <a href="https://www.facebook.com/ameyaditya.achar" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                    </li>
                    <li>
                        <a href="https://twitter.com/ameyaditya" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                    </li>
                    <li>
                        <a href="https://www.instagram.com/ameyaditya" target="_blank"><i class="fa fa-instagram" aria-hidden="true"></i></a>
                    </li>
                    <li>
                        <a href="https://github.com/ameyaditya" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a>
                    </li>
                </ul> <!-- end header__social -->
            </div> <!-- end about -->

        </div> <!-- end row -->

        <div class="row bottom tags-wrap">
            <div class="col-full tags">
                <h3>Tags</h3>

                <div class="tagcloud">
                    <a href="projects.html">Projects</a>
                    <a href="photo.html">Photography</a>
                    <a href="travel.html">Travel</a>
                    <a href="techposts.html">Tech Posts</a>
                </div> <!-- end tagcloud -->
            </div> <!-- end tags -->
        </div> <!-- end tags-wrap -->

    </section> <!-- end s-extra -->


    <!-- s-footer
    ================================================== -->
    <footer class="s-footer">

        <div class="s-footer__main" >
            <div class="row">
                
                <div class="col-two md-four mob-full s-footer__sitelinks">
                        
                    <h4>Quick Links</h4>

                    <ul class="s-footer__linklist">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="projects.html">Projects</a></li>
                        <li><a href="travel.html">Travel</a></li>
                        <li><a href="photo.html">Photograohy</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="about.html">About</a></li>
                    </ul>

                </div> </div></div><!-- end s-footer__sitelinks -->
                <!--<div class="col-two md-four mob-full s-footer__archives">
                        
                    <h4>Archives</h4>

                    <ul class="s-footer__linklist">
                        <li><a href="#0">January 2018</a></li>
                        <li><a href="#0">December 2017</a></li>
                        <li><a href="#0">November 2017</a></li>
                        <li><a href="#0">October 2017</a></li>
                        <li><a href="#0">September 2017</a></li>
                        <li><a href="#0">August 2017</a></li>
                    </ul>

                </div> --><!-- end s-footer__archives -->
<!--
                <div class="col-two md-four mob-full s-footer__social">
                        
                    <h4>Social</h4>

                    <ul class="s-footer__linklist">
                        <li><a href="#0">Facebook</a></li>
                        <li><a href="#0">Instagram</a></li>
                        <li><a href="#0">Twitter</a></li>
                        <li><a href="#0">Pinterest</a></li>
                        <li><a href="#0">Google+</a></li>
                        <li><a href="#0">LinkedIn</a></li>
                    </ul>

                </div> --><!-- end s-footer__social -->
<!--
                <div class="col-five md-full end s-footer__subscribe">
                        
                    <h4>Our Newsletter</h4>

                    <p>Sit vel delectus amet officiis repudiandae est voluptatem. Tempora maxime provident nisi et fuga et enim exercitationem ipsam. Culpa consequatur occaecati.</p>

                    <div class="subscribe-form">
                        <form id="mc-form" class="group" novalidate="true">

                            <input type="email" value="" name="EMAIL" class="email" id="mc-email" placeholder="Email Address" required="">
                
                            <input type="submit" name="subscribe" value="Send">
                
                            <label for="mc-email" class="subscribe-message"></label>
                
                        </form>
                    </div>

                </div> --><!-- end s-footer__subscribe -->
<!--
            </div>
        </div> --><!-- end s-footer__main -->
<!--
        <div class="s-footer__bottom">
            <div class="row">
                <div class="col-full">
                    <div class="s-footer__copyright">
                        <span>© Copyright Philosophy 2018</span> 
                        <span>Site Template by <a href="https://colorlib.com/">Colorlib</a></span>
                    </div>

                    <div class="go-top">
                        <a class="smoothscroll" title="Back to Top" href="#top"></a>
                    </div>
                </div>
            </div>
        </div> --><!-- end s-footer__bottom -->
    </footer> <!-- end s-footer -->


    <!-- preloader
    ================================================== -->
    <div id="preloader">
        <div id="loader">
            <div class="line-scale">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
    </div>


    <!-- Java Script
    ================================================== -->
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>

</body>

</html>